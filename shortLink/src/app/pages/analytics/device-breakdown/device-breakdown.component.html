<div class="bg-white rounded-lg p-5 h-full" style="border: 1px solid rgba(234, 234, 234, 1);">
  <h4 class="text-lg mb-4" style="color: #151419; font-weight: 400;">Devices</h4>

  @if (!breakdown() || breakdown()!.deviceTypes.length === 0) {
    <p class="text-sm" style="color: #9CA3AF;">No device data yet.</p>
  } @else {
    <!-- Device type donut -->
    @if (deviceItems().length > 0) {
      <app-d3-donut-chart
        [data]="deviceItems()"
        [colors]="donutColors"
        [height]="240"
        centerLabel="Total visits"
      ></app-d3-donut-chart>
    }

    <!-- Browsers -->
    @if (browserItems().length > 0) {
      <h4 class="text-sm font-medium mt-5 mb-2" style="color: #6B7280;">Browsers</h4>
      <app-d3-bar-chart
        [data]="browserItems()"
        [gradientStart]="browserGradStart"
        [gradientEnd]="browserGradEnd"
        [labelWidth]="80"
        tooltipSuffix="clicks"
      ></app-d3-bar-chart>
    }

    <!-- OS -->
    @if (osItems().length > 0) {
      <h4 class="text-sm font-medium mt-5 mb-2" style="color: #6B7280;">Operating Systems</h4>
      <app-d3-bar-chart
        [data]="osItems()"
        [gradientStart]="osGradStart"
        [gradientEnd]="osGradEnd"
        [labelWidth]="80"
        tooltipSuffix="clicks"
      ></app-d3-bar-chart>
    }
  }
</div>
